<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>burud samaj vadhu-var suchak samiti</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500&family=Roboto:wght@500;700;900&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css" rel="stylesheet" />


    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="css/profile.css">

    <!-- bs4 links here -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- font icon links -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        integrity="sha384-GLhlTQ8iN17SmeVH6qyuqF7rTlM6HAPB4l+K5cI8PTq5FfF5s2r0dAizPj7b" crossorigin="anonymous">


    <!-- javascript link and aslo the boottrsap 5 link here start here -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
        integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
        crossorigin="anonymous"></script>
    <!-- bootstrap 5 link  end here -->

</head>

<body>
    <!-- Spinner Start -->
    <div id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-grow text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->


    <!-- Navbar Start -->
    <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top p-0 wow fadeIn" data-wow-delay="0.1s">
        <a class="navbar-brand d-flex align-items-center px-4 px-lg-5">
            <h2 style="font-family:fantasy;"><span class="text-warning" style="text-decoration:underline;">BURUD</span>
                <span class="text-danger">BANDHAN</span></h2>
        </a>
        <button type="button" class="navbar-toggler me-4" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto p-4 p-lg-0">
                <a href="/" class="nav-item nav-link active">Home</a>
                <a href="/about" class="nav-item nav-link">About</a>
                <a href=" /search" class="nav-item nav-link">search</a>

                <div class="nav-item dropdown">
                    <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Stories</a>
                    <div class="dropdown-menu rounded-0 rounded-bottom m-0" style="border-top: 1px solid blue;">
                        <a href="/success-stories" class="dropdown-item">Sucess Stories</a>
                        <a href="/success-videos" class="dropdown-item">Success videos</a>
                    </div>
                </div>
          
                <% if (user) { %>
                    <a href="/login" class="nav-item nav-link" style="display: none;">Login</a>
                    <% } else { %>
                        <a href="/login" class="nav-item nav-link">Login</a>
                        <% } %>
            </div>


            <div class="profile">
                <% if (user) { %>
                    <div class="dropdown d-none d-lg-block">
                        <a href="#"
                            class="btn btn-danger rounded-0 py-4 px-lg-5 d-flex align-items-center dropdown-toggle"
                            data-bs-toggle="dropdown">
                            <span class="me-2">
                                <img src="/img/logo/avatar.svg" width="25px" class="img-fluid" alt="">
                            </span>
                            <%=user.firstname%>

                        </a>
                        <ul class="dropdown-menu shadow">

                            <% if(userprofile){ %>
                                <li><a class="dropdown-item" href="profiles/<%=userprofile.id%>"><i
                                            class="bi bi-person-circle me-1"></i> Profile</a></li>
                                <li><a class="dropdown-item" href="photos/<%=userprofile.id%>"><i class="bi bi-image-fill me-1"></i> Profile photos</a></li>
                                <li>
                                    <a class="dropdown-item" href=""><i class="bi bi-app-indicator me-1"></i>
                                        Requests</a>
                                </li>
                                <li>
                                    <a class="dropdown-item" href=""><i class="bi bi-people me-1"></i>Connections</a>
                                </li>
                                <%} else{%>
                                    <li><a class="dropdown-item" href="javascript:void(0)" onclick="addProfile()"><i
                                                class="bi bi-person-circle me-1"></i> Create profile</a></li>
                                    <%}%>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li><a class="dropdown-item" href="/logout"><i
                                                    class="bi bi-box-arrow-right me-1"></i> Logout</a>
                                        </li>
                        </ul>
                    </div>

                    <% } else { %>
                        <a href="/signup" class="btn btn-danger rounded-0 py-4 px-lg-5 d-none d-lg-block">Register
                            here<i class="fa fa-arrow-right ms-3"></i></a>
                        <% } %>
            </div>
        </div>
    </nav>
    <!-- Navbar End -->
    <!-- header strt here -->
    <div class="main">

        <h2 class="text-center text-danger">weddings profiles</h2>
        <hr>

        <p class="text-center fs-1">---ðŸ’Œ---</p>

        <!-- filter buttons -->
        <div id="filters">
            <button class="filter-btn btn active" data-category="all">See All</button>
            <button class="filter-btn btn" data-category="groom">Groom</button>
            <button class="filter-btn btn" data-category="bride">Bride</button>
            <!-- <button class="filter-btn btn" data-category="disabled">Disabled</button> -->
            <span class="pt-1">
                <select class="btn btn-dark" id="advfilters">
                    <option value="all" selected>All</option>
                    <option value="disabled">Disabled</option>
                    <option value="divorced">Divorced</option>
                </select>
            </span>
        </div>

        <!-- Portfolio Gallery Grid -->
        <div id="profileContainer" class="row mt-2">
             
        </div>

        <!-- pagination start here -->
        <div id="pagination" class="mb-5"></div> 


        <!-- END MAIN -->
    </div>


    <!-- header end here -->




    <!-- Footer Start -->
    <footer class="footer bg-danger">
        <div class="container">
            <div class="row m-0">


                <div class="col-md-3">
                    <div class="widget3">
                        <h5>
                            Quick Links
                        </h5>
                        <ul class="ps-0">
                            <li>
                                <a href="/" class="text-decoration-none word-hover">
                                    Home
                                </a>
                            </li>
                            <li>
                                <a href="/about" class="text-decoration-none word-hover">
                                    about
                                </a>
                            </li>
                            <li>
                                <a href="#" class="text-decoration-none word-hover">
                                    contact
                                </a>
                            </li>
                            <li>
                                <a href="./profile.html" class="text-decoration-none word-hover">
                                    Profile
                                </a>
                            </li>
                            <li>
                                <a href="" class="text-decoration-none word-hover">
                                    Create Profile
                                </a>
                            </li>
                            <li>
                                <a href="./login.html" class="text-decoration-none word-hover">
                                    login
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="widget4">
                        <h5>
                            Other Links
                        </h5>
                        <ul class="ps-0">
                            <li>
                                <a href="./search.html" class="text-decoration-none word-hover">
                                    Simple search
                                </a>
                            </li>
                            <li>
                                <a href="./search.html" class="text-decoration-none word-hover">
                                    Advance search
                                </a>
                            </li>
                            <li>
                                <a href="./suc_s.html" class="text-decoration-none word-hover">
                                    Success stories
                                </a>
                            </li>
                            <li>
                                <a href="./suc_v.html" class="text-decoration-none word-hover">
                                    Success vidios
                                </a>
                            </li>
                           
                        </ul>
                    </div>
                </div>
                <div class="col-md-6 ">
                    <div class="widget1">
                        <div class="logo">
                            <h2 style="font-family:fantasy;"><span class="text-warning"
                                    style="text-decoration:underline;">BURUD</span>BANDHAN</h2>
                        </div>
                        <p>
                            In eu libero ligula. Fusce eget metus lorem, ac viverra
                            leo. Nullam convallis, arcu vel pellentesque sodales,
                            nisi est varius diam, ac ultrices sem ante quis sem.
                            Proin ultricies volutpat sapien.
                        </p>
                        <div class="socialLinks">
                            <ul>
                                <li>
                                    <a href="#" class="text-decoration-none word-hover">
                                        <i class="fab fa-facebook-f"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="text-decoration-none word-hover">
                                        <i class="fab fa-youtube"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="text-decoration-none word-hover">
                                        <i class="fab fa-linkedin-in"></i>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="text-decoration-none word-hover">
                                        <i class="fab fa-google-plus-g"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="copyRightArea">
            <div class="container">
                <div class="row">
                    <div class="col-12 text-center">
                        <p>Â© Copyright Burud-bhanden.com. Designed by @Increditex software solutions pvt ltd. All right
                            reserved</p>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-warning text-white btn-lg-square rounded-circle back-to-top"><i
            class="bi bi-arrow-up"></i></a>

    <!-- JavaScript Libraries -->
    <!-- new link which are used for jaavscript -->
    <script>
        async function addProfile() {
            try {
                await $.ajax({
                    type: 'GET',
                    url: '/checkprofile', // Endpoint to check user profile existence
                    success: async function (response) {
                        if (response.message === 'User Profile Found') {
                            $('#basicInfoAddModal').modal('hide');
                            console.log("send request");

                            // Add AJAX request to send friend request
                            await $.ajax({
                                type: 'PUT',
                                url: '/sendRequest', // Endpoint to send friend request
                                success: function (response) {
                                    console.log('Friend request sent successfully');
                                },
                                error: function (xhr, status, error) {
                                    console.error('Error sending friend request:', error);
                                }
                            });
                        } else {
                            $('#basicInfo-form').trigger('reset');
                            $('#basicInfoAddModal').modal('show');
                        }
                    },
                    error: function (xhr, status, error) {
                        console.error(error);
                    }
                });
            } catch (error) {
                console.error('Error adding profile:', error);
            }
        }

        function captureBasicDetails() {


            const profilefor = document.getElementById('profilefor').value;
            //  basicDetails['profilefor']=profilefor
            const fullname = document.getElementById('fullname').value;
            const birthname = document.getElementById('birthname').value;
            const birthplace = document.getElementById('birthplace').value;
            const disabled = document.getElementById('disabled').value;
            const address = document.getElementById('address').value;
            //  basicDetails['fullname']=fullname
            const city = document.getElementById('city').value;
            //  basicDetails['city']=city
            const dob = document.getElementById('dob').value;
            const tob = document.getElementById('tob').value;
            //  basicDetails['dob']=dob
            const income = document.getElementById('income').value;
            //  basicDetails['income']=income
            const education = document.getElementById('education').value;
            //  basicDetails['education']=education
            const bloodgroup = document.getElementById('bloodgroup').value;
            //  basicDetails['bloodgroup']=bloodgroup
            const spectacles = document.getElementById('spectacles').value;
            //  basicDetails['spectacles']=spectacles

            //  basicDetails['gotradevak']=gotradevak

            //  basicDetails['birthplace']=birthplace
            const occupation = document.getElementById('occupation').value;
            //  basicDetails['occupation']=occupation
            const maritalstatus = document.getElementById('maritalstatus').value;
            //  basicDetails['maritalstatus']=maritalstatus
            const height = document.getElementById('height').value;
            //  basicDetails['height']=height
            const occupationcity = document.getElementById('occupationcity').value;
            //  basicDetails['occupationcity']=occupationcity
            const complexion = document.getElementById('complexion').value;
            //  basicDetails['complexion']=complexion

            //  basicDetails['mangal']=mangal

            //  basicDetails['horoimage']=horoimage

            const email = document.getElementById('email').value;
            const mobile = document.getElementById('mobile').value;
            //  basicDetails['residentcity']=residentcity



            document.getElementById("profileforinput").value = profilefor;
            document.getElementById("fullnameinput").value = fullname;
            document.getElementById("birthnameinput").value = birthname;
            document.getElementById("birthplaceinput").value = birthplace;
            document.getElementById("cityinput").value = city;
            document.getElementById("dobinput").value = dob;
            document.getElementById("tobinput").value = tob;
            document.getElementById("disabledinput").value = disabled;
            document.getElementById("addressinput").value = address;
            document.getElementById("incomeinput").value = income;
            document.getElementById("educationinput").value = education;
            document.getElementById("bloodgroupinput").value = bloodgroup;
            document.getElementById("spectaclesinput").value = spectacles;
            document.getElementById("birthplaceinput").value = birthplace;
            document.getElementById("occupationinput").value = occupation;
            document.getElementById("complexioninput").value = complexion;
            document.getElementById("maritalstatusinput").value = maritalstatus;
            document.getElementById("heightinput").value = height;
            document.getElementById("occupationcityinput").value = occupationcity;
            document.getElementById("emailinput").value = email;
            document.getElementById("mobileinput").value = mobile;
        }

        // Function to update the Next button state
        function updateNextbuttonstate() {

            const profilefor = $('#profilefor').val();
            const fullname = $('#fullname').val();
            const birthname = $('#birthname').val();
            const birthplace = $('#birthplace').val();
            const city = $('#city').val();
            const dob = $('#dob').val();
            const tob = $('#tob').val();
            const disabled = $('#disabled').val();
            const address = $('#address').val();
            const income = $('#income').val();
            const education = $('#education').val();
            const bloodgroup = $('#bloodgroup').val();
            const spectacles = $('#spectacles').val();
            const occupation = $('#occupation').val();
            const maritalstatus = $('#maritalstatus').val();
            const height = $('#height').val();
            const occupationcity = $('#occupationcity').val();
            const complexion = $('#complexion').val();

            const email = $('#email').val();
            const mobile = $('#mobile').val();



            if (
                profilefor &&
                fullname &&
                birthname &&
                birthplace &&
                city &&
                dob &&
                tob &&
                disabled &&
                address &&
                income &&
                education &&
                bloodgroup &&
                spectacles &&
                birthplace &&
                occupation &&
                maritalstatus &&
                height &&
                occupationcity &&
                complexion &&
                email &&
                mobile
            ) {
                $('#proceedToSecondModal').prop('disabled', false);
            } else {
                $('#proceedToSecondModal').prop('disabled', true);
            }
        }


        $('#basicInfoAddModal').on('show.bs.modal', function () {
            $('#proceedToSecondModal').prop('disabled', true);
        });


        $('#basicInfo-form input, #basicInfo-form select').on('input change', function () {
            updateNextbuttonstate();
        });


        function addFamilyBackground() {
            $('#familyInfo-form').trigger('reset');
            $('#familyinfoAddModal').modal('show');
        }

        function submitFormData() {

            const basicInfo = {
                profilefor: document.getElementById('profileforinput').value,
                fullname: document.getElementById('fullnameinput').value,
                birthname: document.getElementById('birthnameinput').value,
                birthplace: document.getElementById("birthplaceinput").value,
                city: document.getElementById("cityinput").value,
                dateofbirth: document.getElementById("dobinput").value,
                timeofbirth: document.getElementById("tobinput").value,
                disabled: document.getElementById("disabledinput").value,
                address: document.getElementById("addressinput").value,
                income: document.getElementById("incomeinput").value,
                education: document.getElementById("educationinput").value,
                bloodgroup: document.getElementById("bloodgroupinput").value,
                spectacles: document.getElementById("spectaclesinput").value,
                occupation: document.getElementById("occupationinput").value,
                complexion: document.getElementById("complexioninput").value,
                maritalstatus: document.getElementById("maritalstatusinput").value,
                height: document.getElementById("heightinput").value,
                occupationcity: document.getElementById("occupationcityinput").value,
                email: document.getElementById("emailinput").value,
                mobile: document.getElementById("mobileinput").value,
            };

            // Gather data from the second modal
            const familyInfo = {
                fathername: document.getElementById('fathername').value,
                mothername: document.getElementById('mothername').value,
                maternaluncle: document.getElementById('maternaluncle').value,
                parentaddress: document.getElementById('parentaddress').value,
                familymembers: document.getElementById('familymembers').value,
                hudda: document.getElementById('hudda').value,
                fatheroccupation: document.getElementById('fatheroccupation').value,
                motheroccupation: document.getElementById('motheroccupation').value,
                expectation: document.getElementById('expectation').value,
                // agedifference: document.getElementById('agedifference').value,
                // preferredcity: document.getElementById('preferredcity').value,
                // expectedheight: document.getElementById('expectedheight').value,
                // herhiseducation: document.getElementById('herhiseducation').value,
                // Add other fields as needed
            };
            // Combine data from both modals
            const formData = { ...basicInfo, ...familyInfo };

            // Send data to the server using AJAX
            $.ajax({
                type: 'POST',
                url: '/addprofile', // Update the URL with your server endpoint
                data: formData,
                success: function (response) {
                    // Handle success response
                    console.log(response);
                    $('#basicInfoAddModal').modal('hide');
                    $('#familyinfoAddModal').modal('hide');
                    $('.toast').toast('show');
                    window.location.href = '/uploadphoto';
                },
                error: function (xhr, status, error) {
                    // Handle error
                    console.error(error);
                }
            });
        }


    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- new link end here -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>


    <!-- Template Javascript -->
    <script src="js/main.js"></script>
    <script src="js/profile.js"></script>

</body>

</html>